{% extends 'admin/adminbase.html.twig' %}

{% block body %}
    <h1>Журналы</h1>
    <div class="table-responsive">
        <table class="records_list table table-striped">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Имя</th>
                    <th>Номер</th>
                    <th>Содержание</th>
                    <th>Путь до файла</th>
                    <th>Ссылка</th>
                    <th>Путь до изображения</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
            {% for magazine in magazines %}
                <tr>
                    <td><a href="{{ path('admin_magazine_show', { 'id': magazine.id }) }}">{{ magazine.id }}</a></td>
                    <td>{{ magazine.name }}</td>
                    <td>{{ magazine.number }}</td>
                    <td>{{ magazine.content }}</td>
                    <td>{{ magazine.pdfLink|length > 20 ? magazine.pdfLink|slice(0, 20) ~ '...' : magazine.pdfLink }}</td>
                    <td>{{ magazine.link|length > 20 ? magazine.link|slice(0, 20) ~ '...' : magazine.link }}</td>
                    <td>{{ magazine.imgUrl|length > 20 ? magazine.imgUrl|slice(0, 20) ~ '...' : magazine.imgUrl }}</td>
                    <td>
                        <ul>
                            <li>
                                <a href="{{ path('admin_magazine_show', { 'id': magazine.id }) }}">Показать</a>
                            </li>
                            <li>
                                <a href="{{ path('admin_magazine_edit', { 'id': magazine.id }) }}">Редактировать</a>
                            </li>
                        </ul>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <ul>
        <li>
            <a class="btn btn-outline-primary" href="{{ path('admin_magazine_new') }}">Создать запись</a>
        </li>
    </ul>
{% endblock %}
